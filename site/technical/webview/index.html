
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../Services/iap/">
      
      
        <link rel="next" href="../databases/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.28">
    
    
      
        <title>Webview - Cheer Supports IOS App Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6543a935.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="orange" data-md-color-accent="purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#webview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Cheer Supports IOS App Documentation" class="md-header__button md-logo" aria-label="Cheer Supports IOS App Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Cheer Supports IOS App Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Webview
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="orange" data-md-color-accent="purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="orange" data-md-color-accent="lime"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Intro

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../about/intro/" class="md-tabs__link">
          
  
    
  
  About

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../general/layout/" class="md-tabs__link">
          
  
    
  
  General

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../tech-intro/" class="md-tabs__link">
          
  
    
  
  Technical

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Cheer Supports IOS App Documentation" class="md-nav__button md-logo" aria-label="Cheer Supports IOS App Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Cheer Supports IOS App Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Intro
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    About
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            About
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Intro
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/license/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    License
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/release-notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Release
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    General
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            General
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../general/layout/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Project Layout
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../general/future/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Future of App
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Technical
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Technical
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tech-intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Services
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Services
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Services/services/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Intro
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2_2" id="__nav_4_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Aws
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2_2">
            <span class="md-nav__icon md-icon"></span>
            Aws
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Services/aws/26awsintro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Services/aws/27authentication/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Authentication
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_3" >
        
          
          <label class="md-nav__link" for="__nav_4_2_3" id="__nav_4_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Firebase
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2_3">
            <span class="md-nav__icon md-icon"></span>
            Firebase
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Services/firebase/firebaseintro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Intro
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Services/firebase/auth/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Authentication
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Services/firebase/storage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Storage
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Services/firebase/messaging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Messaging
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Services/firebase/firestore/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Firestore
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Services/daily/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Daily Login Tracking
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Services/chat/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Global Chat
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Services/iap/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    In App Purchase
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Webview
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Webview
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#struct-webview" class="md-nav__link">
    <span class="md-ellipsis">
      Struct: WebView
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Struct: WebView">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#methods" class="md-nav__link">
    <span class="md-ellipsis">
      Methods
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#class-coordinator" class="md-nav__link">
    <span class="md-ellipsis">
      Class: Coordinator
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Class: Coordinator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#methods_1" class="md-nav__link">
    <span class="md-ellipsis">
      Methods
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extension-wkwebview" class="md-nav__link">
    <span class="md-ellipsis">
      Extension: WKWebView
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webviewmodel" class="md-nav__link">
    <span class="md-ellipsis">
      WebViewModel
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WebViewModel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overview_1" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#class" class="md-nav__link">
    <span class="md-ellipsis">
      Class
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Class">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#properties" class="md-nav__link">
    <span class="md-ellipsis">
      Properties
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_2" class="md-nav__link">
    <span class="md-ellipsis">
      Methods
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delegate-methods" class="md-nav__link">
    <span class="md-ellipsis">
      Delegate Methods
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_1" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#considerations" class="md-nav__link">
    <span class="md-ellipsis">
      Considerations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#apiservice" class="md-nav__link">
    <span class="md-ellipsis">
      APIService
    </span>
  </a>
  
    <nav class="md-nav" aria-label="APIService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overview_2" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#class_1" class="md-nav__link">
    <span class="md-ellipsis">
      Class
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#properties_1" class="md-nav__link">
    <span class="md-ellipsis">
      Properties
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_3" class="md-nav__link">
    <span class="md-ellipsis">
      Methods
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#considerations_1" class="md-nav__link">
    <span class="md-ellipsis">
      Considerations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accountserviceviewmodel" class="md-nav__link">
    <span class="md-ellipsis">
      AccountServiceViewModel
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AccountServiceViewModel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overview_3" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#class_2" class="md-nav__link">
    <span class="md-ellipsis">
      Class
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Class">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#properties_2" class="md-nav__link">
    <span class="md-ellipsis">
      Properties
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_4" class="md-nav__link">
    <span class="md-ellipsis">
      Methods
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage-example" class="md-nav__link">
    <span class="md-ellipsis">
      Usage Example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#considerations_2" class="md-nav__link">
    <span class="md-ellipsis">
      Considerations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../databases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Databases
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API's
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../func/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Functions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../other/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Others
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#struct-webview" class="md-nav__link">
    <span class="md-ellipsis">
      Struct: WebView
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Struct: WebView">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#methods" class="md-nav__link">
    <span class="md-ellipsis">
      Methods
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#class-coordinator" class="md-nav__link">
    <span class="md-ellipsis">
      Class: Coordinator
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Class: Coordinator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#methods_1" class="md-nav__link">
    <span class="md-ellipsis">
      Methods
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extension-wkwebview" class="md-nav__link">
    <span class="md-ellipsis">
      Extension: WKWebView
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webviewmodel" class="md-nav__link">
    <span class="md-ellipsis">
      WebViewModel
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WebViewModel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overview_1" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#class" class="md-nav__link">
    <span class="md-ellipsis">
      Class
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Class">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#properties" class="md-nav__link">
    <span class="md-ellipsis">
      Properties
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_2" class="md-nav__link">
    <span class="md-ellipsis">
      Methods
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delegate-methods" class="md-nav__link">
    <span class="md-ellipsis">
      Delegate Methods
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_1" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#considerations" class="md-nav__link">
    <span class="md-ellipsis">
      Considerations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#apiservice" class="md-nav__link">
    <span class="md-ellipsis">
      APIService
    </span>
  </a>
  
    <nav class="md-nav" aria-label="APIService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overview_2" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#class_1" class="md-nav__link">
    <span class="md-ellipsis">
      Class
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#properties_1" class="md-nav__link">
    <span class="md-ellipsis">
      Properties
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_3" class="md-nav__link">
    <span class="md-ellipsis">
      Methods
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#considerations_1" class="md-nav__link">
    <span class="md-ellipsis">
      Considerations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accountserviceviewmodel" class="md-nav__link">
    <span class="md-ellipsis">
      AccountServiceViewModel
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AccountServiceViewModel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overview_3" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#class_2" class="md-nav__link">
    <span class="md-ellipsis">
      Class
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Class">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#properties_2" class="md-nav__link">
    <span class="md-ellipsis">
      Properties
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_4" class="md-nav__link">
    <span class="md-ellipsis">
      Methods
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage-example" class="md-nav__link">
    <span class="md-ellipsis">
      Usage Example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#considerations_2" class="md-nav__link">
    <span class="md-ellipsis">
      Considerations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="webview">WebView</h1>
<h4 id="overview">Overview</h4>
<p>To show that Cheer Supports web content on mobile I used an open-source web browser engine called Webkit. WebKit is a browser engine primarily used in Apple's Safari web browser, as well as all web browsers on iOS and iPadOS. Cheer Supports web content is changing frequently and to keep up with the web content updates webview was the best choice. All scripts related webview is separeated from the others and they under 'Webservices' folder. Folder contain "WebView", "WebViewModel", "APIService" and AccountServiceViewModel script files. </p>
<p>The WebView struct is a SwiftUI component designed to display web content using WKWebView, which is part of the WebKit framework. It integrates into SwiftUI views to render web pages specified by a URL and provides functionality for observing URL changes, handling navigation, and interacting with JavaScript.</p>
<h5 id="struct-webview">Struct: WebView</h5>
<p>The WebView struct conforms to UIViewRepresentable, making it compatible with SwiftUI's view hierarchy.
Properties</p>
<ul>
<li>url: A String property representing the main URL to be loaded initially.</li>
<li>webVM: An instance of WebViewModel used to manage state and interactions with the web view.</li>
</ul>
<h6 id="methods">Methods</h6>
<ul>
<li>
<p>makeUIView: Initializes and configures the WKWebView instance. Sets up configuration for media playback and JavaScript interaction permissions. Observes URL changes and updates the webVM's current_url property.</p>
</li>
<li>
<p>updateUIView: Updates the WKWebView instance with a new URL when the url property changes.</p>
</li>
<li>
<p>makeCoordinator: Creates and returns an instance of the Coordinator class, which acts as the delegate for the WKWebView and handles navigation events.</p>
</li>
</ul>
<h5 id="class-coordinator">Class: Coordinator</h5>
<p>The Coordinator class manages interactions and events within the WKWebView instance.
Properties</p>
<ul>
<li>parent: A reference to the parent WebView instance.</li>
<li>observer: An optional NSKeyValueObservation instance to observe URL changes in the web view.</li>
</ul>
<h6 id="methods_1">Methods</h6>
<ul>
<li>
<p>webView(_:didFail:withError:): Delegate method called when navigation to a URL fails. Prints the error message.</p>
</li>
<li>
<p>webView(_:didFinish:): Delegate method called when web view finishes loading a URL. Prints a success message.</p>
</li>
<li>
<p>webView(_:createWebViewWith:for:windowFeatures:): Delegate method to handle creating a new web view for navigation actions that target a new frame.</p>
</li>
<li>
<p>webView(_:didReceiveServerRedirectForProvisionalNavigation:): Delegate method called when the web view receives a server redirect during navigation. Prints the redirected URL.</p>
</li>
</ul>
<h5 id="extension-wkwebview">Extension: WKWebView</h5>
<p>An extension on WKWebView provides additional functionality to create JSON data from a dictionary.
Methods</p>
<ul>
<li>createJsonData(for:): Converts a dictionary [String:Any] into a JSON string, removing unnecessary whitespace and newline characters.</li>
</ul>
<h5 id="usage">Usage</h5>
<p>To use the WebView component in a SwiftUI view, initialize it with a url and webVM instance. Example usage:
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>struct ContentView: View {
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    @StateObject private var webVM = WebViewModel()
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    var body: some View {
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>        WebView(url: &quot;https://www.example.com&quot;, webVM: webVM)
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>            .onAppear {
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>                // Additional setup when the web view appears
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>            }
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>    }
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>}
</code></pre></div></p>
<p>Considerations:</p>
<ul>
<li>Ensure proper handling of JavaScript interactions and permissions based on application requirements.</li>
<li>Monitor for potential memory leaks when using observers and delegates.</li>
<li>Test thoroughly across different web content to ensure compatibility and responsiveness.</li>
</ul>
<p>This documentation outlines the structure, functionality, and usage considerations for integrating a web view within a SwiftUI application using the WebView struct.</p>
<h4 id="webviewmodel">WebViewModel</h4>
<h5 id="overview_1">Overview</h5>
<p>The WebViewModel.swift file contains the WebViewModel class, which serves as a bridge between SwiftUI components and the WKWebView for managing web content interactions. It includes methods for reloading, navigating, and interacting with local storage within the web view.</p>
<h5 id="class">Class</h5>
<p>The WebViewModel class extends NSObject and conforms to ObservableObject and WKNavigationDelegate, facilitating communication between SwiftUI views and the web view.</p>
<h6 id="properties">Properties</h6>
<ul>
<li>current_url: A @Published property that stores the current URL loaded in the web view.</li>
<li>webView: An optional WKWebView instance. Setting this property assigns the navigation delegate to self.</li>
</ul>
<h6 id="methods_2">Methods</h6>
<ul>
<li>
<p>reload(): Reloads the current web page.</p>
</li>
<li>
<p>goBack(): Navigates back to the previous web page.</p>
</li>
<li>
<p>getCurrentURL(): Retrieves the URL of the current web page.</p>
</li>
<li>
<p>setLocalStorage(name: id: token: ): Stores user data in the browser's local storage using JavaScript. Converts a dictionary to JSON format and injects it into the local storage.</p>
</li>
<li>
<p>getLocalStorage(): Retrieves data from the browser's local storage using JavaScript.</p>
</li>
<li>
<p>clearLocalStorage(): Clears all data from the browser's local storage using JavaScript.</p>
</li>
</ul>
<h5 id="delegate-methods">Delegate Methods</h5>
<ul>
<li>
<p>webView(_:didFail:withError:): Delegate method called when web view navigation fails. Prints the error message if navigation fails.</p>
</li>
<li>
<p>webView(_:didFinish:): Delegate method called when web view finishes loading a URL. Handles necessary actions upon successful navigation.</p>
</li>
</ul>
<h5 id="usage_1">Usage</h5>
<p>To use WebViewModel in a SwiftUI application, instantiate it and use its methods to interact with the embedded WKWebView.</p>
<p>Example: </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>struct ContentView: View {
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>    @StateObject private var webVM = WebViewModel()
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>    var body: some View {
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>        VStack {
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>            Text(&quot;Current URL: \(webVM.current_url)&quot;)
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>            Button(&quot;Reload&quot;) {
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>                webVM.reload()
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>            }
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>            Button(&quot;Go Back&quot;) {
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>                webVM.goBack()
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>            }
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>            Button(&quot;Get Local Storage&quot;) {
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a>                webVM.getLocalStorage()
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a>            }
<a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a>        }
<a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a>        .onAppear {
<a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a>            // Setup initial web view configuration
<a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a>            let webView = WKWebView()
<a id="__codelineno-1-20" name="__codelineno-1-20" href="#__codelineno-1-20"></a>            webVM.webView = webView
<a id="__codelineno-1-21" name="__codelineno-1-21" href="#__codelineno-1-21"></a>
<a id="__codelineno-1-22" name="__codelineno-1-22" href="#__codelineno-1-22"></a>            // Load initial URL
<a id="__codelineno-1-23" name="__codelineno-1-23" href="#__codelineno-1-23"></a>            let initialURL = URL(string: &quot;https://www.example.com&quot;)!
<a id="__codelineno-1-24" name="__codelineno-1-24" href="#__codelineno-1-24"></a>            webView.load(URLRequest(url: initialURL))
<a id="__codelineno-1-25" name="__codelineno-1-25" href="#__codelineno-1-25"></a>        }
<a id="__codelineno-1-26" name="__codelineno-1-26" href="#__codelineno-1-26"></a>    }
<a id="__codelineno-1-27" name="__codelineno-1-27" href="#__codelineno-1-27"></a>}
</code></pre></div>
<h5 id="considerations">Considerations</h5>
<ul>
<li>Ensure proper handling of optional values when accessing webView property.</li>
<li>Manage JavaScript interactions cautiously, especially with sensitive user data stored in local storage.</li>
<li>Test thoroughly across different web scenarios to verify functionality and error handling.</li>
</ul>
<p>This documentation provides an overview of WebViewModel.swift, describing its purpose, properties, methods, and usage within a SwiftUI context. It outlines how to interact with web views and manage local storage effectively.</p>
<h4 id="apiservice">APIService</h4>
<h5 id="overview_2">Overview</h5>
<p>The Webservice.swift file encapsulates various API request functions and handles corresponding responses for the "Cheer Supports" application. It uses Swift's URLSession and Combine framework for asynchronous networking tasks, ensuring efficient communication with the backend services.</p>
<h5 id="class_1">Class</h5>
<p>The APIService class contains methods for making API requests to different endpoints, processing responses, and handling errors. Each method corresponds to a specific API route within the application.</p>
<h5 id="properties_1">Properties</h5>
<p>None.</p>
<h5 id="methods_3">Methods</h5>
<ul>
<li>
<p>getUserAvatar(token:):</p>
<ul>
<li>Route: 195 (User information)</li>
<li>Purpose: Retrieves the avatar URL for a user.</li>
<li>Throws: PathError.custom, PathError.noData</li>
<li>Description: Fetches user avatar details from the server using HTTP GET request and returns the avatar URL as a String.</li>
</ul>
</li>
<li>
<p>getUserProfile(token:):</p>
<ul>
<li>Route: 129 (User profile information)</li>
<li>Purpose: Retrieves user profile information, specifically live streaming status.</li>
<li>Throws: PathError.noData, PathError.invalidUrl</li>
<li>Description: Sends a GET request to fetch user profile data and returns an array of Route129Response objects.</li>
</ul>
</li>
<li>
<p>getLoginDatas(email:password:completion:):</p>
<ul>
<li>Route: 100 (Login)</li>
<li>Purpose: Performs user login and retrieves user ID, token, and nickname upon successful authentication.</li>
<li>Throws: No direct throws, uses completion handler for AuthenticationError cases.</li>
<li>Description: Sends a POST request with login credentials, handles the response asynchronously using URLSession, and provides results through a completion handler.</li>
</ul>
</li>
<li>
<p>checkCurrentPoint(user_id:token:):</p>
<ul>
<li>Route: 198 (Get user current points)</li>
<li>Purpose: Retrieves the current cheer coins for a user.</li>
<li>Throws: AuthenticationError.custom, PathError.noData</li>
<li>Description: Sends a GET request to fetch user's current cheer coins based on user ID and token, returning the amount as a String.</li>
</ul>
</li>
<li>
<p>sendEncodedData(encoded_key:token:completion:):</p>
<ul>
<li>Route: 601 (Decrypt the purchase key)</li>
<li>Purpose: Decrypts a purchase key for in-app payment.</li>
<li>Throws: PurchaseError.invalidUrl, PurchaseError.invalidKey</li>
<li>Description: Sends a POST request to decrypt an encoded key using a token, handling the response asynchronously through a completion handler.</li>
</ul>
</li>
<li>
<p>sendCheerDeductionInformations(user_id:token:quantity:price:platform:item_id:completion:):</p>
<ul>
<li>Route: 602 (Update the Cheer)</li>
<li>Purpose: Deducts cheer points upon item purchase in the application.</li>
<li>Throws: PathError.custom, PathError.noData</li>
<li>Description: Sends a POST request to update cheer points deduction, handling the response asynchronously through a completion handler.</li>
</ul>
</li>
<li>
<p>deleteAccountRequest(user_id:token:):</p>
<ul>
<li>Route: 132 (Account deletion request)</li>
<li>Purpose: Sends a request to delete a user account.</li>
<li>Throws: No direct throws, prints error message for invalid API URL.</li>
<li>Description: Sends a POST request to initiate an account deletion request using user ID and token.</li>
</ul>
</li>
<li>
<p>getFollowListCount(user_id:token:):</p>
<ul>
<li>Route: 196 (Follow list count)</li>
<li>Purpose: Retrieves the count of users a particular user is following.</li>
<li>Throws: PathError.custom, PathError.noData</li>
<li>Description: Sends a GET request to fetch the count of users followed by a specified user, returning a Route196Response object.</li>
</ul>
</li>
<li>
<p>getLastStreaming(user_id:token:):</p>
<ul>
<li>Route: 603 (Last Streaming Date)</li>
<li>Purpose: Retrieves the last streaming date for mission reward calculations.</li>
<li>Throws: PathError.custom, PathError.noData</li>
<li>Description: Sends a GET request to fetch the last streaming date of a user based on user ID and token, returning a Route603Response object.</li>
</ul>
</li>
<li>
<p>getWatchedStreams(user_id:token:):</p>
<ul>
<li>Route: 604 (Watched Live Streaming Dates)</li>
<li>Purpose: Retrieves the list of dates a user watched live streams for future features.</li>
<li>Throws: PathError.custom, PathError.noData</li>
<li>Description: Sends a GET request to fetch the list of dates a user watched live streams, returning an array of Route604Response objects.</li>
</ul>
</li>
<li>
<p>getLastGiftSend(user_id:token:):</p>
<ul>
<li>Route: 605 (Last Gift Items)</li>
<li>Purpose: Retrieves information about the last gift item sent by a user.</li>
<li>Throws: PathError.custom, PathError.noData</li>
<li>Description: Sends a GET request to fetch details about the last gift item sent by a user, returning a Route605Response object.</li>
</ul>
</li>
</ul>
<h5 id="considerations_1">Considerations</h5>
<ul>
<li>Ensure proper error handling for network requests and API responses.</li>
<li>Validate inputs (like tokens, IDs) before making API requests.</li>
<li>Utilize async/await for asynchronous operations where supported to simplify concurrency.</li>
<li>Test thoroughly across different network conditions and scenarios to ensure robustness.</li>
</ul>
<p>This documentation provides an overview of Webservice.swift, detailing its purpose, methods, routes, and considerations for effective usage in the "Cheer Supports" application.</p>
<h4 id="accountserviceviewmodel">AccountServiceViewModel</h4>
<h5 id="overview_3">Overview</h5>
<p>The <code>AccountServiceViewModel.swift</code> file serves as a view model in the "Cheer Supports" application, managing user authentication, data retrieval from APIs, and state management for user-related information. It utilizes Swift's Combine framework for reactive programming and asynchronous operations.</p>
<h5 id="class_2">Class</h5>
<p>The <code>AccountServiceViewModel</code> class encapsulates methods and properties to facilitate user authentication, data fetching, and management of user session state.</p>
<h6 id="properties_2">Properties</h6>
<ul>
<li><strong><code>isAuthenticated</code></strong>: Tracks whether the user is authenticated.</li>
<li><strong><code>nick_name</code></strong>: Stores the user's nickname.</li>
<li><strong><code>user_id</code></strong>: Stores the user's ID.</li>
<li><strong><code>iconPath</code></strong>: Stores the URL path for the user's avatar.</li>
<li><strong><code>email</code></strong>: Stores the user's email address.</li>
<li><strong><code>password</code></strong>: Stores the user's password.</li>
<li><strong><code>token</code></strong>: Stores the authentication token for API requests.</li>
<li><strong><code>cheer</code></strong>: Stores the user's cheer points.</li>
<li><strong><code>channel_id</code></strong>: Stores the ID of the user's channel.</li>
<li><strong><code>follow</code></strong>: Stores the count of users followed by the current user.</li>
</ul>
<h6 id="methods_4">Methods</h6>
<ul>
<li>
<p><strong><code>login(email:password:)</code></strong>:</p>
<ul>
<li><strong>Purpose</strong>: Initiates user login using provided email and password.</li>
<li><strong>Throws</strong>: Passes errors from <code>APIService().getLoginDatas</code> method.</li>
<li><strong>Description</strong>: Asynchronously fetches user authentication data from the server and updates view model properties upon successful login.</li>
</ul>
</li>
<li>
<p><strong><code>authenticate(email:password:)</code></strong>:</p>
<ul>
<li><strong>Purpose</strong>: Attempts user authentication and returns a boolean indicating success.</li>
<li><strong>Throws</strong>: Passes errors from <code>login(email:password:)</code> method.</li>
<li><strong>Description</strong>: Calls <code>login(email:password:)</code> and handles authentication errors, returning the current authentication state.</li>
</ul>
</li>
<li>
<p><strong><code>getAvatar()</code></strong>:</p>
<ul>
<li><strong>Purpose</strong>: Retrieves the user's avatar URL path.</li>
<li><strong>Throws</strong>: Handles errors from <code>APIService().getUserAvatar</code> method.</li>
<li><strong>Description</strong>: Asynchronously fetches and updates <code>iconPath</code> with the user's avatar URL.</li>
</ul>
</li>
<li>
<p><strong><code>getChannelID()</code></strong>:</p>
<ul>
<li><strong>Purpose</strong>: Placeholder method for future implementation.</li>
<li><strong>Description</strong>: Intended for retrieving the user's channel ID, not yet implemented.</li>
</ul>
</li>
<li>
<p><strong><code>logout()</code></strong>:</p>
<ul>
<li><strong>Purpose</strong>: Logs out the user by resetting authentication-related properties.</li>
<li><strong>Description</strong>: Resets <code>isAuthenticated</code>, <code>token</code>, <code>user_id</code>, <code>email</code>, <code>password</code>, and <code>iconPath</code> properties to empty or default values.</li>
</ul>
</li>
<li>
<p><strong><code>checkUserCheerPoints()</code></strong>:</p>
<ul>
<li><strong>Purpose</strong>: Retrieves the user's current cheer points.</li>
<li><strong>Throws</strong>: Handles errors from <code>APIService().checkCurrentPoint</code> method.</li>
<li><strong>Description</strong>: Asynchronously fetches and updates <code>cheer</code> with the user's current cheer points.</li>
</ul>
</li>
<li>
<p><strong><code>purchaseItem(price:quantity:productName:)</code></strong>:</p>
<ul>
<li><strong>Purpose</strong>: Initiates a purchase transaction for an item.</li>
<li><strong>Parameters</strong>: <code>price</code>, <code>quantity</code>, <code>productName</code> - Details of the item to purchase.</li>
<li><strong>Description</strong>: Asynchronously deducts cheer points from the user upon item purchase and updates <code>cheer</code> accordingly.</li>
</ul>
</li>
<li>
<p><strong><code>getFollow()</code></strong>:</p>
<ul>
<li><strong>Purpose</strong>: Retrieves the count of users followed by the current user.</li>
<li><strong>Throws</strong>: Handles errors from <code>APIService().getFollowListCount</code> method.</li>
<li><strong>Description</strong>: Asynchronously fetches and updates <code>follow</code> with the count of users followed by the current user.</li>
</ul>
</li>
<li>
<p><strong><code>isTodayLastStreamingDate()</code></strong>:</p>
<ul>
<li><strong>Purpose</strong>: Checks if the user streamed live today.</li>
<li><strong>Throws</strong>: Handles errors from <code>APIService().getLastStreaming</code> method.</li>
<li><strong>Description</strong>: Asynchronously checks if the user's last streaming date was today using <code>isToday</code> method.</li>
</ul>
</li>
<li>
<p><strong><code>todayWatchStreams()</code></strong>:</p>
<ul>
<li><strong>Purpose</strong>: Checks if the user watched any live stream today.</li>
<li><strong>Throws</strong>: Handles errors from <code>APIService().getWatchedStreams</code> method.</li>
<li><strong>Description</strong>: Asynchronously checks if the user watched any live stream today using <code>isToday</code> method.</li>
</ul>
</li>
<li>
<p><strong><code>lastGift()</code></strong>:</p>
<ul>
<li><strong>Purpose</strong>: Checks if the user sent a gift today.</li>
<li><strong>Throws</strong>: Handles errors from <code>APIService().getLastGiftSend</code> method.</li>
<li><strong>Description</strong>: Asynchronously checks if the user sent a gift today using <code>isToday</code> method.</li>
</ul>
</li>
<li>
<p><strong><code>formattedDate(jsonDate:)</code></strong>:</p>
<ul>
<li><strong>Purpose</strong>: Converts a JSON-formatted date string to a <code>Date</code> object.</li>
<li><strong>Parameters</strong>: <code>jsonDate</code> - A date string in JSON format.</li>
<li><strong>Returns</strong>: A <code>Date</code> object parsed from the <code>jsonDate</code>.</li>
</ul>
</li>
<li>
<p><strong><code>isToday(date:)</code></strong>:</p>
<ul>
<li><strong>Purpose</strong>: Checks if a given date is today.</li>
<li><strong>Parameters</strong>: <code>date</code> - The <code>Date</code> object to check.</li>
<li><strong>Returns</strong>: <code>true</code> if the date is today; otherwise, <code>false</code>.</li>
</ul>
</li>
<li>
<p><strong><code>isStillLiveStreamActive()</code></strong>:</p>
<ul>
<li><strong>Purpose</strong>: Checks if the user's live stream is currently active.</li>
<li><strong>Throws</strong>: Handles errors from <code>APIService().getLastStreaming</code> method.</li>
<li><strong>Description</strong>: Asynchronously checks if the user's live stream is active today using <code>isToday</code> method.</li>
</ul>
</li>
</ul>
<h5 id="usage-example">Usage Example</h5>
<p>Below is an example demonstrating how to use the <code>AccountServiceViewModel</code> class:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="kd">let</span> <span class="nv">viewModel</span> <span class="p">=</span> <span class="n">AccountServiceViewModel</span><span class="p">()</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="c1">// Example: Authenticate user</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="k">async</span> <span class="p">{</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>    <span class="k">do</span> <span class="p">{</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>        <span class="kd">let</span> <span class="nv">isAuthenticated</span> <span class="p">=</span> <span class="k">try</span> <span class="k">await</span> <span class="n">viewModel</span><span class="p">.</span><span class="n">authenticate</span><span class="p">(</span><span class="n">email</span><span class="p">:</span> <span class="s">&quot;user@example.com&quot;</span><span class="p">,</span> <span class="n">password</span><span class="p">:</span> <span class="s">&quot;password&quot;</span><span class="p">)</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>        <span class="k">if</span> <span class="n">isAuthenticated</span> <span class="p">{</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>            <span class="bp">print</span><span class="p">(</span><span class="s">&quot;User is authenticated!&quot;</span><span class="p">)</span>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>            <span class="k">await</span> <span class="n">viewModel</span><span class="p">.</span><span class="n">getAvatar</span><span class="p">()</span>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>            <span class="k">await</span> <span class="n">viewModel</span><span class="p">.</span><span class="n">checkUserCheerPoints</span><span class="p">()</span>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>            <span class="kd">let</span> <span class="nv">followCount</span> <span class="p">=</span> <span class="k">await</span> <span class="n">viewModel</span><span class="p">.</span><span class="n">getFollow</span><span class="p">()</span>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a>            <span class="bp">print</span><span class="p">(</span><span class="s">&quot;User is following </span><span class="si">\(</span><span class="n">followCount</span><span class="si">)</span><span class="s"> users.&quot;</span><span class="p">)</span>
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a>        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a>            <span class="bp">print</span><span class="p">(</span><span class="s">&quot;Authentication failed.&quot;</span><span class="p">)</span>
<a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a>        <span class="p">}</span>
<a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a>    <span class="p">}</span> <span class="k">catch</span> <span class="p">{</span>
<a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a>        <span class="bp">print</span><span class="p">(</span><span class="s">&quot;Error authenticating: </span><span class="si">\(</span><span class="n">error</span><span class="si">)</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a>    <span class="p">}</span>
<a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a><span class="p">}</span>
</code></pre></div>
<h5 id="considerations_2">Considerations</h5>
<ul>
<li>Ensure proper error handling for asynchronous operations and API requests.</li>
<li>Use Combine framework for reactive updates to UI based on state changes.</li>
<li>Validate inputs (like email and password) before making API requests.</li>
<li>Test thoroughly under various network conditions and scenarios to ensure reliability.</li>
</ul>
<p>This documentation provides an overview of <code>AccountServiceViewModel.swift</code>, detailing its purpose, methods, properties, and considerations for effective usage in the "Cheer Supports" application.</p>







  
  






                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Made with Material for Mkdocs
    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/infotus" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.top", "navigation.tabs", "navigation.indexes", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.fe8b6f2b.min.js"></script>
      
        <script src="../../js/open_in_new_tab.js"></script>
      
    
  </body>
</html>